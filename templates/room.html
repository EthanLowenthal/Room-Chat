<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/static/index.css">
    <link rel="stylesheet" type="text/css" href="/static/room.css">
    <meta charset="UTF-8">
    <title>Room #{{ roomno }}</title>
</head>
<body>
<div>
     <span class="room-number">{% if user['is_teacher']%}Room #: {{ roomno }}{% endif %}</span>
    <!-- this leaves a blank span if there is no teacjer. this is on purpose becuase this is coded badly pls do no remove-->
    <div class="room-info">Welcome, {{ user['name'] }} {% if not user['is_teacher']%}| Teacher: {{ room['teacher'] }}{% endif %}</div>
    <div>
        <h1>Chat:</h1>

        <div id="controls">
            {% if user['is_teacher']%}
            <a href="/delete/{{ roomno }}">Delete Room</a>
            {% else %}
            <a onclick="leaveRoom()">Leave Room</a>
            {% endif %}
        </div>

        <div id="chat-wrapper">
            <div id="chat-box">
            </div>
            <div id="users-list">
                <span id="user-count">{{ room['users']|length }}</span> active users
                <hr>
                <div id="users">{% for u in room['users'] %}{{ u }}<br>
                    {% endfor %} </div>
            </div>
        </div>
        <form onsubmit="sendMessage();return false">
            <!--<input type="hidden" name="user" value="{{ user['id'] }}">-->
            <input type="text" name="message" value="" id="message" class="biginput" autocomplete="off">
            <input onclick="sendMessage();" type="submit" value="Send">
        </form>
    </div>
</div>
</body>
<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>
<script type="text/javascript" charset="utf-8">
    var name = "{{ user['name'] }}";
    var room = "{{ roomno }}";
</script>
<script src="/static/room.js"></script>
</html>
